<!DOCTYPE html>
<html lang="zh">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>古风科技游戏</title>
<style>
@import url('https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@700&display=swap');
body {
    margin: 0;
    padding: 0;
    font-family: 'Noto Serif SC', serif;
    color: #fff;
    background-color: #000;
    overflow-x: hidden;
}
.stars {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: -1;
}
.star {
    position: absolute;
    width: 4px;
    height: 4px;
    background: radial-gradient(circle, rgba(255,255,255,1) 0%, rgba(255,255,255,0) 100%);
    border-radius: 50%;
    animation: twinkle 5s infinite;
}
@keyframes twinkle {
    0%, 100% { opacity: 0.3; }
    50% { opacity: 1; }
}
.container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 20px;
    position: relative;
    z-index: 1;
}
header {
    background-color: rgba(26, 26, 26, 0.8);
    padding: 20px;
    box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    text-align: left;
}
.title {
    font-size: 24px;
    background: linear-gradient(45deg, #ff00aa, #00ffcc);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    text-shadow: 0 0 10px rgba(255, 255, 255, 0.5);
    animation: glow 2s ease-in-out infinite alternate;
    letter-spacing: 2px;
    margin: 0;
}
.subtitle {
    font-size: 14px;
    color: #00ffcc;
    margin-top: 5px;
    letter-spacing: 1px;
}
@keyframes glow {
    from {
        text-shadow: 0 0 5px #fff, 0 0 10px #fff, 0 0 15px #ff00de, 0 0 20px #ff00de;
    }
    to {
        text-shadow: 0 0 10px #fff, 0 0 20px #fff, 0 0 30px #ff00de, 0 0 40px #ff00de;
    }
}
.game-icons {
    display: flex;
    justify-content: center;
    margin-top: 50px;
}
.game-icon {
    width: 150px;
    height: 150px;
    margin: 0 20px;
    background-color: #fff;
    border-radius: 20px;
    box-shadow: 0 4px 10px rgba(0,0,0,0.3);
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: transform 0.3s, box-shadow 0.3s;
}
.game-icon:hover {
    transform: translateY(-5px);
    box-shadow: 0 6px 15px rgba(0,0,0,0.4);
}
.game-icon img {
    width: 80px;
    height: 80px;
    margin-bottom: 10px;
}
.game-icon span {
    font-size: 16px;
    font-weight: bold;
    color: #000;
}
.game-container {
    display: none;
    margin-top: 30px;
    background-color: rgba(255, 255, 255, 0.1);
    border-radius: 10px;
    box-shadow: 0 4px 10px rgba(0,0,0,0.3);
    padding: 20px;
    text-align: center;
}
canvas {
    border: 2px solid #00ffcc;
    box-shadow: 0 0 10px #00ffcc;
    display: block;
    margin: 0 auto;
}
.score-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    margin-top: 10px;
}
.score, .high-score {
    font-size: 16px;
    color: #fff;
    margin: 5px 0;
}
.close-btn {
    background-color: #ff00aa;
    color: #fff;
    border: none;
    padding: 10px 20px;
    font-size: 16px;
    border-radius: 5px;
    cursor: pointer;
    margin-top: 10px;
    transition: background-color 0.3s;
}
.close-btn:hover {
    background-color: #e6009a;
}
@media (max-width: 768px) {
    .game-icons {
        flex-direction: column;
        align-items: center;
    }
    .game-icon {
        margin: 20px 0;
    }
}
</style>
</head>
<body>
<div class="stars"></div>
<header>
    <div class="container">
        <h1 class="title">古风科技</h1>
        <div class="subtitle">改变生活</div>
    </div>
</header>
<div class="container">
    <div class="game-icons">
        <div class="game-icon" id="snakeIcon">
            <img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MTIgNTEyIj48cGF0aCBkPSJNNDExLjQgMjU1LjNjLTUuNy0xLjEtMTEuNCAxLjQtMTUuMyA1LjVsLTExNS41IDEyMi44TDE2NSAyNTcuOGMtNC0zLjgtMTAuOC0zLjgtMTQuOCAwTDMxLjggMzc1LjNjLTQuMSA0LjEtNCA4LjItLjEgMTEuNGwyLjcgMi43YzMuMSAyLjkgNy4yIDMuNCAxMS4zIDEuMSA1NC43LTMwLjcgMTI1LjctNzIuMSAxMjUuNy03Mi4xcy43LTEuNiAyLTEuNmMxLjQgMCAyLjEgMS42IDIuMSAxLjZzNzAuOSA0MS40IDEyNS43IDcyLjFjNC4xIDIuMyA4LjIgMS44IDExLjMtMS4xbDIuNy0yLjdjMy45LTMuMiA0LTcuNCAwLTExLjRsLTk2LjQtOTUuN2MtNS43LTUuOC0xNS40LTUuOC0yMS4yIDAgMCAwLTE0LjYgMTQuOC0yNS45IDI1LjlMOTYgMzg0bDYwLjIgNTkuOWM0IDMuOSAxMC40IDMuOSAxNC4zIDBMNDc0LjMgMTM5LjFjMy43LTMuNyA1LjgtOC43IDUuOC0xMy45VjkxLjdjMC01LjItNC4zLTkuNC05LjUtOS40aC0zMy42Yy01LjIgMC05LjQgNC4zLTkuNCA5LjV2NTEuMmwtMTUuNyAxNi43Yy0zLjkgNC4yLTUuNCAxMC4xLTMuOCAxNS42IDEuNiA1LjUgNi4xIDkuNyAxMS43IDExLjFsMjAuNyA1LjljNS43IDEuNiAxMS43LS42IDE1LjYtNS40bDQ3LTU3LjFjMy4yLTMuOSAyLjctOS42LTEuMi0xMi44bC0yNy4zLTIyLjVjLTMuOS0zLjItOS42LTIuNy0xMi44IDEuMmwtMTUuNyAxOS4xVjkxLjZjMC0xMC40LTguNC0xOC44LTE4LjgtMTguOGgtMzMuN2MtMTAuNCAwLTE4LjggOC40LTE4LjggMTguOHYzMy41YzAgNS4yIDIuMSAxMC4yIDUuOCAxMy45bDQ3LjcgNDcuN2MyLjggMi44IDYuNCA0LjMgMTAuMiA0LjMgMy45IDAgNy43LTEuNSAxMC42LTQuNGwyMC45LTIxLjljMy44LTQgMy44LTEwLjQgMC0xNC4zbC0yNC4yLTI0LjJjLTQtNC0xMC40LTQtMTQuMyAwbC0yMC45IDIxLjljLTMuOCAzLjktMy44IDEwLjMgMCAxNC4yTDM5NyAxOTguNmwtNzAuNiA3NC45Yy0zLjkgNC4xLTMuOSAxMC41IDAgMTQuNmw3MC42IDc0LjljMy45IDQuMSAxMC4yIDQuMSAxNC4xIDBsNzAuNi03NC45YzMuOS00LjEgMy45LTEwLjUgMC0xNC42bC03MC42LTc0LjljLTMuOS00LjEtMTAuMi00LjEtMTQuMSAwbC03MC42IDc0LjljLTMuOSA0LjEtMy45IDEwLjUgMCAxNC42bDcwLjYgNzQuOWMzLjkgNC4xIDEwLjIgNC4xIDE0LjEgMGw3MC42LTc0LjljMy45LTQuMSAzLjktMTAuNSAwLTE0LjZsLTcwLjYtNzQuOXoiLz48L3N2Zz4=" alt="Snake Game">
            <span>贪吃蛇</span>
        </div>
        <div class="game-icon" id="tetrisIcon">
            <img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MTIgNTEyIj48cGF0aCBkPSJNNDk2IDM4NGMwIDguOC03LjIgMTYtMTYgMTZoLTQ4VjE2MGMwLTM1LjMtMjguNy02NC02NC02NEgxNDRjLTguOCAwLTE2LTcuMi0xNi0xNlYzMmMwLTE3LjctMTQuMy0zMi0zMi0zMkg2NEMyOC43IDAgMCAyOC43IDAgNjR2Mzg0YzAgMzUuMyAyOC43IDY0IDY0IDY0aDM4NGMzNS4zIDAgNjQtMjguNyA2NC02NFYzODR6TTMyIDY0YzAtMTcuNyAxNC4zLTMyIDMyLTMyaDMyYzE3LjcgMCAzMiAxNC4zIDMyIDMydjMyYzAgMTcuNy0xNC4zIDMyLTMyIDMySDY0Yy0xNy43IDAtMzItMTQuMy0zMi0zMlY2NHptMCAzODRWMTYwYzAtMTcuNyAxNC4zLTMyIDMyLTMyaDMyYzE3LjcgMCAzMiAxNC4zIDMyIDMydjI4OGMwIDE3LjctMTQuMyAzMi0zMiAzMkg2NGMtMTcuNyAwLTMyLTE0LjMtMzItMzJ6bTQxNiAzMkgxNjBjLTE3LjcgMC0zMi0xNC4zLTMyLTMyVjE2MGMwLTE3LjcgMTQuMy0zMiAzMi0zMmgyODhjMTcuNyAwIDMyIDE0LjMyIDMyIDMydjI4OGMwIDE3LjctMTQuMyAzMi0zMiAzMnoiLz48L3N2Zz4=" alt="Tetris Game">
            <span>俄罗斯方块</span>
        </div>
    </div>
    <div id="snakeGame" class="game-container">
        <canvas id="snakeCanvas" width="300" height="300"></canvas>
        <div class="score-container">
            <div id="snakeScore" class="score">分数: 0</div>
            <div id="snakeHighScore" class="high-score">最高分: 0</div>
        </div>
        <button class="close-btn" id="snakeCloseBtn">关闭游戏</button>
    </div>
    <div id="tetrisGame" class="game-container">
        <canvas id="tetrisCanvas" width="300" height="600"></canvas>
        <div class="score-container">
            <div id="tetrisScore" class="score">分数: 0</div>
            <div id="tetrisHighScore" class="high-score">最高分: 0</div>
        </div>
        <button class="close-btn" id="tetrisCloseBtn">关闭游戏</button>
    </div>
</div>

<script>
function createStars() {
    const starsContainer = document.querySelector('.stars');
    const numberOfStars = 100;

    for (let i = 0; i < numberOfStars; i++) {
        const star = document.createElement('div');
        star.classList.add('star');
        star.style.left = `${Math.random() * 100}%`;
        star.style.top = `${Math.random() * 100}%`;
        star.style.width = `${Math.random() * 3 + 2}px`;
        star.style.height = star.style.width;
        star.style.opacity = Math.random();
        star.style.animationDuration = `${Math.random() * 3 + 2}s`;
        star.style.animationDelay = `${Math.random() * 5}s`;
        starsContainer.appendChild(star);
    }
}

window.addEventListener('load', createStars);

// 贪吃蛇游戏代码
const snakeCanvas = document.getElementById('snakeCanvas');
const snakeCtx = snakeCanvas.getContext('2d');
let snake = [{x: 150, y: 150}];
let food = {x: 0, y: 0};
let dx = 10;
let dy = 0;
let snakeScore = 0;
let snakeHighScore = localStorage.getItem('snakeHighScore') || 0;

function drawSnakeGame() {
    snakeCtx.clearRect(0, 0, snakeCanvas.width, snakeCanvas.height);
    snake.forEach(segment => {
        snakeCtx.fillStyle = '#00ff00';
        snakeCtx.fillRect(segment.x, segment.y, 10, 10);
    });
    snakeCtx.fillStyle = '#ff0000';
    snakeCtx.fillRect(food.x, food.y, 10, 10);
}

function moveSnake() {
    const head = {x: snake[0].x + dx, y: snake[0].y + dy};
    snake.unshift(head);
    if (head.x === food.x && head.y === food.y) {
        snakeScore++;
        document.getElementById('snakeScore').textContent = `分数: ${snakeScore}`;
        generateFood();
    } else {
        snake.pop();
    }
}

function generateFood() {
    food.x = Math.floor(Math.random() * 30) * 10;
    food.y = Math.floor(Math.random() * 30) * 10;
}

function checkCollision() {
    const head = snake[0];
    if (head.x < 0 || head.x >= snakeCanvas.width || head.y < 0 || head.y >= snakeCanvas.height) {
        return true;
    }
    for (let i = 1; i < snake.length; i++) {
        if (head.x === snake[i].x && head.y === snake[i].y) {
            return true;
        }
    }
    return false;
}

let snakeGameLoop;

function startSnakeGame() {
    snake = [{x: 150, y: 150}];
    dx = 10;
    dy = 0;
    snakeScore = 0;
    document.getElementById('snakeScore').textContent = `分数: ${snakeScore}`;
    generateFood();
    if (snakeGameLoop) clearInterval(snakeGameLoop);
    snakeGameLoop = setInterval(() => {
        moveSnake();
        if (checkCollision()) {
            clearInterval(snakeGameLoop);
            alert('游戏结束！');
            if (snakeScore > snakeHighScore) {
                snakeHighScore = snakeScore;
                localStorage.setItem('snakeHighScore', snakeHighScore);
                document.getElementById('snakeHighScore').textContent = `最高分: ${snakeHighScore}`;
            }
        }
        drawSnakeGame();
    }, 100);
}

document.addEventListener('keydown', (e) => {
    switch(e.key) {
        case 'ArrowUp': if (dy === 0) { dx = 0; dy = -10; } break;
        case 'ArrowDown': if (dy === 0) { dx = 0; dy = 10; } break;
        case 'ArrowLeft': if (dx === 0) { dx = -10; dy = 0; } break;
        case 'ArrowRight': if (dx === 0) { dx = 10; dy = 0; } break;
    }
});

// 俄罗斯方块游戏代码
const tetrisCanvas = document.getElementById('tetrisCanvas');
const tetrisCtx = tetrisCanvas.getContext('2d');
const BLOCK_SIZE = 30;
const BOARD_WIDTH = 10;
const BOARD_HEIGHT = 20;
let tetrisBoard = Array(BOARD_HEIGHT).fill().map(() => Array(BOARD_WIDTH).fill(0));
let currentPiece;
let tetrisScore = 0;
let tetrisHighScore = localStorage.getItem('tetrisHighScore') || 0;

const SHAPES = [
    [[1, 1, 1, 1]],
    [[1, 1], [1, 1]],
    [[1, 1, 1], [0, 1, 0]],
    [[1, 1, 1], [1, 0, 0]],
    [[1, 1, 1], [0, 0, 1]],
    [[1, 1, 0], [0, 1, 1]],
    [[0, 1, 1], [1, 1, 0]]
];

function drawTetrisGame() {
    tetrisCtx.clearRect(0, 0, tetrisCanvas.width, tetrisCanvas.height);
    tetrisBoard.forEach((row, y) => {
        row.forEach((value, x) => {
            if (value) {
                tetrisCtx.fillStyle = '#00ff00';
                tetrisCtx.fillRect(x * BLOCK_SIZE, y * BLOCK_SIZE, BLOCK_SIZE - 1, BLOCK_SIZE - 1);
            }
        });
    });
    if (currentPiece) {
        currentPiece.shape.forEach((row, y) => {
            row.forEach((value, x) => {
                if (value) {
                    tetrisCtx.fillStyle = '#ff0000';
                    tetrisCtx.fillRect((currentPiece.x + x) * BLOCK_SIZE, (currentPiece.y + y) * BLOCK_SIZE, BLOCK_SIZE - 1, BLOCK_SIZE - 1);
                }
            });
        });
    }
}

function createPiece() {
    const shape = SHAPES[Math.floor(Math.random() * SHAPES.length)];
    return {
        x: Math.floor(BOARD_WIDTH / 2) - Math.ceil(shape[0].length / 2),
        y: 0,
        shape: shape
    };
}

function collides() {
    return currentPiece.shape.some((row, dy) => {
        return row.some((value, dx) => {
            let x = currentPiece.x + dx;
            let y = currentPiece.y + dy;
            return (
                value !== 0 &&
                (x < 0 || x >= BOARD_WIDTH || y >= BOARD_HEIGHT || (tetrisBoard[y] && tetrisBoard[y][x]))
            );
        });
    });
}

function rotate() {
    const rotated = currentPiece.shape[0].map((val, index) => 
        currentPiece.shape.map(row => row[index]).reverse()
    );
    const previousShape = currentPiece.shape;
    currentPiece.shape = rotated;
    if (collides()) {
        currentPiece.shape = previousShape;
    }
}

function moveDown() {
    currentPiece.y++;
    if (collides()) {
        currentPiece.y--;
        merge();
        currentPiece = createPiece();
        if (collides()) {
            tetrisBoard = Array(BOARD_HEIGHT).fill().map(() => Array(BOARD_WIDTH).fill(0));
            clearInterval(tetrisGameLoop);
            alert('游戏结束！');
            if (tetrisScore > tetrisHighScore) {
                tetrisHighScore = tetrisScore;
                localStorage.setItem('tetrisHighScore', tetrisHighScore);
                document.getElementById('tetrisHighScore').textContent = `最高分: ${tetrisHighScore}`;
            }
        }
    }
}

function merge() {
    currentPiece.shape.forEach((row, y) => {
        row.forEach((value, x) => {
            if (value) {
                tetrisBoard[y + currentPiece.y][x + currentPiece.x] = value;
            }
        });
    });
    clearLines();
}

function clearLines() {
    let linesCleared = 0;
    tetrisBoard = tetrisBoard.filter(row => {
        if (row.every(cell => cell)) {
            linesCleared++;
            return false;
        }
        return true;
    });
    while (tetrisBoard.length < BOARD_HEIGHT) {
        tetrisBoard.unshift(Array(BOARD_WIDTH).fill(0));
    }
    tetrisScore += linesCleared * 100;
    document.getElementById('tetrisScore').textContent = `分数: ${tetrisScore}`;
}

let tetrisGameLoop;

function startTetrisGame() {
    tetrisBoard = Array(BOARD_HEIGHT).fill().map(() => Array(BOARD_WIDTH).fill(0));
    currentPiece = createPiece();
    tetrisScore = 0;
    document.getElementById('tetrisScore').textContent = `分数: ${tetrisScore}`;
    if (tetrisGameLoop) clearInterval(tetrisGameLoop);
    tetrisGameLoop = setInterval(() => {
        moveDown();
        drawTetrisGame();
    }, 500);
}

document.addEventListener('keydown', (e) => {
    if (!currentPiece) return;
    switch(e.key) {
        case 'ArrowLeft': 
            currentPiece.x--;
            if (collides()) currentPiece.x++;
            break;
        case 'ArrowRight': 
            currentPiece.x++;
            if (collides()) currentPiece.x--;
            break;
        case 'ArrowDown': 
            moveDown();
            break;
        case 'ArrowUp': 
            rotate();
            break;
    }
    drawTetrisGame();
});

// 游戏图标点击事件
document.getElementById('snakeIcon').addEventListener('click', () => {
    document.getElementById('snakeGame').style.display = 'block';
    document.getElementById('tetrisGame').style.display = 'none';
    startSnakeGame();
});

document.getElementById('tetrisIcon').addEventListener('click', () => {
    document.getElementById('tetrisGame').style.display = 'block';
    document.getElementById('snakeGame').style.display = 'none';
    startTetrisGame();
});

// 关闭按钮点击事件
document.getElementById('snakeCloseBtn').addEventListener('click', () => {
    document.getElementById('snakeGame').style.display = 'none';
    clearInterval(snakeGameLoop);
});

document.getElementById('tetrisCloseBtn').addEventListener('click', () => {
    document.getElementById('tetrisGame').style.display = 'none';
    clearInterval(tetrisGameLoop);
});

// 初始化最高分显示
document.getElementById('snakeHighScore').textContent = `最高分: ${snakeHighScore}`;
document.getElementById('tetrisHighScore').textContent = `最高分: ${tetrisHighScore}`;
</script>
</body>
</html>
